{
  "case_id": "test_direct_123",
  "request_timestamp": "2025-05-17 18:32:28.299280",
  "client_details": {
    "client_name": "Test Manufacturing Co.",
    "client_type": "company"
  },
  "project_details": {
    "project_name": "Factory Expansion Project",
    "description": "Expanding an existing manufacturing facility with new equipment and buildings",
    "estimated_cost": 1500000,
    "duration_months": 18
  },
  "enterprise_audit_results": {
    "score": 0.85,
    "summary": "The company shows strong financial performance with moderate risk profile.",
    "key_ratios": {
      "2023": {
        "Current Ratio": 1.8,
        "Quick Ratio": 1.2,
        "Debt Ratio": 0.45
      }
    },
    "risk_level": {
      "Low": 2,
      "Moderate": 1,
      "High": 0
    }
  },
  "project_evaluation_results": {
    "is_viable": true,
    "decision": "APPROVE",
    "confidence": 0.82,
    "justification": "The project has a strong financial outlook and aligns with the company's core business.",
    "identified_risks": [
      "Supply chain disruptions",
      "Regulatory changes"
    ],
    "shariah_preliminary_fit": "The project appears to comply with Shariah principles."
  },
  "processing_log": [
    {
      "agent": "TestRunner",
      "timestamp": "2025-05-17 18:32:28.299297",
      "message": "Starting test",
      "status": "test"
    },
    {
      "agent": "IslamicContractSelectorAgent",
      "timestamp": "2025-05-17T18:32:28.299310",
      "status": "completed",
      "message": "Error during contract selection: Error code: 400 - {'error': {'message': \"Invalid schema for response_format 'ContractRecommendation': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'contract_probabilities' supplied.\", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}",
      "completed_at": "2025-05-17T18:32:33.949947"
    }
  ],
  "current_status": "error_contract_selection",
  "selected_contract_details": {
    "primary_contract_type": "ERROR",
    "justification": "Error during contract selection: Error code: 400 - {'error': {'message': \"Invalid schema for response_format 'ContractRecommendation': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'contract_probabilities' supplied.\", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}",
    "key_parameters_required": [],
    "relevant_aaoifi_fas": []
  }
}